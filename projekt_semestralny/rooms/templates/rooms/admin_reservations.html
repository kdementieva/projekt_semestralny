{% extends "base.html" %}

{% block title %}Panel administratora{% endblock %}

{% block content %}
<h2>Administrator – rezerwacje</h2>

<a href="/rooms/admin-panel/dashboard/" class="btn btn-outline-info">
  Panel główny
</a>

<table class="table table-bordered">
  <thead>
    <tr>
      <th>Użytkownik</th>
      <th>Sala</th>
      <th>Od</th>
      <th>Do</th>
      <th>Status</th>
      <th>Akcje</th>
    </tr>
  </thead>
  <tbody>
    {% for r in reservations %}
    <tr>
      <td>{{ r.user.username }}</td>
      <td>{{ r.room.name }}</td>
      <td>{{ r.reservation_time_start }}</td>
      <td>{{ r.reservation_time_end }}</td>
      <td>{{ r.status }}</td>
      <td>
        {% if r.status == 'pending' %}
          <a href="{% url 'approve_reservation' r.id %}" class="btn btn-sm btn-success">
            Zatwierdź
          </a>
          <a href="{% url 'reject_reservation' r.id %}" class="btn btn-sm btn-danger">
            Odrzuć
          </a>
        {% else %}
          —
        {% endif %}
      </td>
    </tr>
    {% endfor %}
  </tbody>
</table>
{% endblock %}
